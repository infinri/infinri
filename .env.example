# Infinri Framework Environment Configuration Template
# Copy this file to .env and update with your settings
#
# This file is loaded using phpdotenv (https://github.com/vlucas/phpdotenv)
# Features available:
# - Variable expansion: VAR2="${VAR1}/path"
# - Multiline values: VAR="line1\nline2"
# - Escaped characters: VAR="He said \"hello\""
# - Comments: Lines starting with # are ignored
# - Immutable: Variables set by server/shell won't be overwritten

# -------------------------------------------------
# Application Settings
# -------------------------------------------------
APP_NAME=Infinri
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost:8000
ADMIN_DOMAIN=admin
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# -------------------------------------------------
# Database Configuration - PostgreSQL (Recommended)
# -------------------------------------------------
DB_DRIVER=pgsql
DB_HOST=localhost
DB_PORT=5432
DB_NAME=infinri_test
DB_USER=infinri
DB_PASSWORD=infinri

# Database Configuration - Production (Optional)
# DB_NAME_PROD=infinri
# DB_USER_PROD=infinri_prod
# DB_PASSWORD_PROD=your_secure_password_here

# -------------------------------------------------
# Database Configuration - MySQL (Alternative)
# -------------------------------------------------
# DB_DRIVER=mysql
# DB_HOST=localhost
# DB_PORT=3306
# DB_NAME=infinri
# DB_USER=infinri
# DB_PASSWORD=infinri
# DB_CHARSET=utf8mb4


# -------------------------------------------------
# Cache Configuration - Redis-First Architecture
# -------------------------------------------------
# Cache driver: auto-detects optimal (redis > apcu > filesystem)
# For production: Use redis for best performance
# For development: filesystem is fine, redis recommended
CACHE_DRIVER=redis
CACHE_PREFIX=infinri_

# Redis Configuration (Recommended for Production)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# Alternative: Use filesystem cache (slower but no dependencies)
# CACHE_DRIVER=file

# Cache Type Enable/Disable (true/false)
# Config cache: Caches merged XML configuration (50-100ms faster)
CACHE_CONFIG_ENABLED=true

# Layout cache: Caches layout XML parsing (100-200ms faster)
CACHE_LAYOUT_ENABLED=true

# Block HTML cache: Caches rendered block HTML (future implementation)
CACHE_BLOCK_HTML_ENABLED=false

# Full page cache: Caches entire page output (future implementation)
CACHE_FULL_PAGE_ENABLED=false

# -------------------------------------------------
# Session Configuration
# -------------------------------------------------
SESSION_DRIVER=file
SESSION_LIFETIME=120
SESSION_PATH=/
SESSION_DOMAIN=
SESSION_SECURE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# -------------------------------------------------
# Mail Configuration
# -------------------------------------------------
MAIL_DRIVER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@infinri.local
MAIL_FROM_NAME="${APP_NAME}"

# -------------------------------------------------
# Security
# -------------------------------------------------
# Generate with: php -r "echo bin2hex(random_bytes(32));"
APP_KEY=
HASH_ALGO=bcrypt
HASH_ROUNDS=12

# Trusted Proxies (for X-Forwarded-For validation)
# Comma-separated list of proxy IPs or CIDR ranges
# Only requests from these IPs will have proxy headers trusted
# Examples: 127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
TRUSTED_PROXIES=127.0.0.1,::1

# Session Security
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# -------------------------------------------------
# Logging
# -------------------------------------------------
LOG_CHANNEL=daily
LOG_LEVEL=debug
# LOG_CHANNEL=syslog
# LOG_CHANNEL=errorlog

# -------------------------------------------------
# Third-Party Services (Optional)
# -------------------------------------------------
# AWS
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=

# Pusher
# PUSHER_APP_ID=
# PUSHER_APP_KEY=
# PUSHER_APP_SECRET=
# PUSHER_APP_CLUSTER=mt1

# -------------------------------------------------
# Development Settings
# -------------------------------------------------
# Enable query logging
DB_LOG_QUERIES=false

# Enable debug toolbar
DEBUG_TOOLBAR=false

# Disable caching in development
DEV_DISABLE_CACHE=true

# Show detailed errors
ERROR_DETAIL=true
