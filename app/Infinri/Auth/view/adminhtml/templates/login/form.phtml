<?php
/**
 * Admin Login Form Template
 * Styles defined in Auth/view/adminhtml/web/css/source/_auth.less
 * @var \Infinri\Auth\Block\Adminhtml\Login\Form $block
 */

// Temporary: Add CSS directly since layout blocks aren't rendering properly
if (!defined('AUTH_CSS_LOADED')) {
    define('AUTH_CSS_LOADED', true);
    echo '<link rel="stylesheet" href="/static/adminhtml/css/styles.min.css">';
}
?>
<div class="auth-wrapper">
    <div class="login-container">
        <div class="login-header">
            <h1>üîê Admin Login</h1>
            <p>Infinri Content Management System</p>
        </div>

        <?php if ($block->hasError()): ?>
            <div class="error-message">
                ‚ö†Ô∏è <?= $block->escapeHtml($block->getErrorMessage()) ?>
            </div>
        <?php endif; ?>

        <form method="POST" action="<?= $block->escapeUrl($block->getFormAction()) ?>">
            <input type="hidden" name="_csrf_token" value="<?= $block->escapeHtmlAttr($block->getCsrfToken('admin_login')) ?>">
            <input type="hidden" name="_csrf_token_id" value="admin_login">

            <div class="form-group">
                <label for="username">Username</label>
                <input 
                    type="text" 
                    id="username" 
                    name="username" 
                    value="<?= $block->escapeHtmlAttr($block->getUsername()) ?>"
                    required 
                    autofocus 
                    autocomplete="username"
                    placeholder="Enter your username"
                >
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input 
                    type="password" 
                    id="password" 
                    name="password" 
                    required 
                    autocomplete="current-password"
                    placeholder="Enter your password"
                >
            </div>

            <div class="form-group" style="display: flex; align-items: center; gap: 8px;">
                <input 
                    type="checkbox" 
                    id="remember_me" 
                    name="remember_me" 
                    value="1"
                    style="width: auto; margin: 0;"
                >
                <label for="remember_me" style="margin: 0; font-weight: normal; cursor: pointer;">
                    Keep me logged in
                </label>
            </div>

            <button type="submit" class="login-button">Sign In</button>
        </form>

        <div class="login-footer">
            <p>Default credentials: admin / admin123</p>
            <p>‚ö†Ô∏è Change password after first login</p>
        </div>
    </div>
</div>
