<?php
/**
 * Footer Template
 * 
 * @var \Infinri\Core\Block\Template $block
 * @var \Infinri\Theme\ViewModel\Footer $viewModel
 */
$viewModel = $block->getViewModel();
?>
<footer class="footer" role="contentinfo">
    <div class="footer-container container">
        <div class="footer-content">
            <!-- Footer Links -->
            <div class="footer-section footer-links">
                <h3 class="footer-heading">Quick Links</h3>
                <ul class="footer-menu">
                    <?php foreach ($viewModel->getLinks() as $link): ?>
                        <li class="footer-menu-item">
                            <a href="<?= $block->escapeUrl($link['url']) ?>" 
                               class="footer-link">
                                <?= $block->escapeHtml($link['label']) ?>
                            </a>
                        </li>
                    <?php endforeach; ?>
                </ul>
            </div>
            
            <!-- Social Links -->
            <?php if (!empty($viewModel->getSocialLinks())): ?>
                <div class="footer-section footer-social">
                    <h3 class="footer-heading">Connect With Us</h3>
                    <ul class="social-links">
                        <?php foreach ($viewModel->getSocialLinks() as $social): ?>
                            <li class="social-item">
                                <a href="<?= $block->escapeUrl($social['url']) ?>" 
                                   class="social-link social-link-<?= $block->escapeHtmlAttr($social['icon']) ?>"
                                   target="_blank"
                                   rel="noopener noreferrer"
                                   aria-label="<?= $block->escapeHtmlAttr($social['platform']) ?>">
                                    <?= $block->escapeHtml($social['platform']) ?>
                                </a>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                </div>
            <?php endif; ?>
            
            <!-- Newsletter -->
            <?php if ($viewModel->isNewsletterEnabled()): ?>
                <div class="footer-section footer-newsletter">
                    <h3 class="footer-heading">Newsletter</h3>
                    <p class="newsletter-description">
                        Subscribe to receive updates and special offers.
                    </p>
                    <form action="<?= $block->escapeUrl($viewModel->getNewsletterUrl()) ?>" 
                          method="post" 
                          class="newsletter-form">
                        <input type="email" 
                               name="email" 
                               class="newsletter-input" 
                               placeholder="<?= $block->escapeHtmlAttr('Your email address') ?>"
                               required
                               aria-label="<?= $block->escapeHtmlAttr('Email address') ?>">
                        <button type="submit" 
                                class="newsletter-button">
                            <?= $block->escapeHtml('Subscribe') ?>
                        </button>
                    </form>
                </div>
            <?php endif; ?>
        </div>
        
        <!-- Copyright -->
        <div class="footer-bottom">
            <p class="footer-copyright">
                <?= $block->escapeHtml($viewModel->getCopyright()) ?>
            </p>
        </div>
    </div>
</footer>
